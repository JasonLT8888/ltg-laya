!function(e){var t={};function i(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(o,s,function(t){return e[t]}.bind(null,s));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=11)}([function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NotExist=0]="NotExist",e[e.Dir=1]="Dir",e[e.File=2]="File"}(t.EFileType||(t.EFileType={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{static ReplaceAll(e,t,i){for(;e.indexOf(t)>=0;)e=e.replace(t,i);return e}static IsNullOrEmpty(e){return null==e||""==e}}},function(e,t){e.exports=require("process")},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(1),s=i(0),n=i(6),l=i(7),r=i(2),c=i(3);class a{static CompressJs(e,t){let i=o.statSync(e),l=s.win32.basename(e),r=o.readFileSync(e,{encoding:"utf-8"}),c=n.minify(r);if(c.error)throw console.error("压缩文件",l,"出错",c.error),SyntaxError("文件压缩失败,中断发包");this.WriteStrTo(t,c.code);let a=o.statSync(t),u=i.size/1024,p=a.size/1024,y=p/u,f="("+(100*y).toFixed(2)+"%)";return console.log("压缩",l.green,u.toFixed(2)+"Kb >>>>>>>> "+p.toFixed(2)+"Kb "+(y>1?f.red:f.green)),c.code}static WrapToES5(e){let t=l.execSync("babel ");console.log(t)}static ReplaceAll(e,t,i){let o=e;if(t==i)return o;for(;o.indexOf(t)>=0;)o=o.replace(t,i);return o}static MakeDirExist(e){let t=null;return o.existsSync(e)&&(t=o.statSync(e)),!(!t||!t.isDirectory())||(o.mkdirSync(e,{recursive:!0}),!(!o.existsSync(e)||!o.statSync(e).isDirectory()))}static IsFileOrDir(e){if(!o.existsSync(e))return r.EFileType.NotExist;return o.statSync(e).isFile()?r.EFileType.File:r.EFileType.Dir}static DeleteDir(e){let t=[];if(o.existsSync(e)){t=o.readdirSync(e);for(let i=0;i<t.length;++i){let n=t[i],l=s.join(e,n);o.statSync(l).isDirectory()?this.DeleteDir(l):o.unlinkSync(l)}o.rmdirSync(e)}}static CopyFile(e,t){let i=t.lastIndexOf("\\"),s=t.substring(0,i);a.MakeDirExist(s),o.copyFileSync(e,t)}static CopyDir(e,t,i=null){this.MakeDirExist(t);let n=o.readdirSync(e);for(let l=0;l<n.length;++l){let r=n[l],c=s.join(t,r);if(i&&!i(r,c))continue;let a=s.join(e,r);o.statSync(a).isDirectory()?this.CopyDir(a,c,i):o.copyFileSync(a,c)}}static ReadStrFrom(e){if(!a.IsFileExist(e))return null;return o.statSync(e).isDirectory()?null:o.readFileSync(e,{encoding:"utf-8"})}static IsFileExist(e){return o.existsSync(e)}static GetDirName(e){let t=this.IsFileOrDir(e);if(t==r.EFileType.NotExist)return"";let i=(e=c.default.ReplaceAll(e,"\\","/")).split("/");return e.endsWith("/")||t==r.EFileType.File?i[i.length-2]:i[i.length-1]}static WriteStrTo(e,t){let i=e.lastIndexOf("\\"),s=e.substring(0,i);a.MakeDirExist(s),o.writeFileSync(e,t,{encoding:"utf-8"})}static Rename(e,t){o.renameSync(e,t)}}t.LTUtils=a},function(e,t){e.exports=require("uglify-es")},function(e,t){e.exports=require("child_process")},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class o{}t.default=o,o.needCopy=["src/LTGame","src/SDK","src/LTG_CommonUI","bin/res/ltgame","bin/libs","bin/index.js","libs",".vscode/launch.json","bin/game.js","bin/game.json","bin/index.html","tsconfig.json"],o.needCopyFGUI=["assets/Load","settings","p_yinyou.fairy"],o.needUpdateFGUI=["assets","settings","p_yinyou.fairy"],o.needCopyUnity=["Assets/Plugins","Assets/LayaAir3D","Assets/StreamingAssets","Assets/LTEditorData.asset","Packages","ProjectSettings"],o.initProject=["src/script/ui/UI_MainMediator.ts","src/script/common/GlobalUnit.ts","src/script/common/GameData.ts","src/script/common/ResDefine.ts","src/script/scene/MainScene.ts","src/script/scene/SplashScene.ts","src/script/config/PackConst.ts","src/script/config/GameConst.ts","src/script/config/AudioConfig.ts","src/script/config/EffectConfig.ts","src/script/manager/AudioManager.ts","src/script/manager/EffectManager.ts","src/script/manager/DataManager.ts","src/script/MainStart.ts","src/Main.ts"],o.needCopyExcel=["game_const.xlsx","pack_const.xlsx","effect_config.xlsx","audio_config.xlsx","roll_config.xlsx","sign_config.xlsx","reward_code_config.xlsx","egg_config.xlsx","try_item_config.xlsx"]},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(0),s=i(4),n=i(8),l=i(5),r=i(2);new class{constructor(){let e=s.cwd(),t=o.join(e,"./../"),i=o.join(t,"others/publish/templates/_project/");l.LTUtils.DeleteDir(i),console.log("删除",i,"完成"),console.log("开始拷贝工程_Laya"),this._CopyLaya(t),console.log("laya工程拷贝完成"),console.log("开始拷贝工程_Unity"),this._CopyUnity(t),console.log("unity工程拷贝完成"),console.log("开始拷贝工程_FGUI"),this._CopyFGUI(t),console.log("fgui工程拷贝完成"),console.log("开始拷贝工程_Excel"),this._CopyExcel(t),console.log("excel工程拷贝完成"),console.log("所有工程拷贝完成,开始发布,请耐心等待");let n=o.join(t,"others"),r=o.join(t,"./../../../../Publish/others");l.LTUtils.DeleteDir(r),l.LTUtils.CopyDir(n,r);let c=o.join(t,"package.json"),a=o.join(t,"./../../../../Publish/package.json");l.LTUtils.CopyFile(c,a),console.log("已发布到",o.join(t,"./../../../../Publish"))}_CopyExcel(e){let t=o.join(e,"others/publish/templates/_project/excel/"),i=o.join(e,"./../../../design/excel/");for(let e of n.default.needCopyExcel){let s=o.join(i,e),n=l.LTUtils.IsFileOrDir(s);if(n==r.EFileType.NotExist){console.log(s,"不存在");continue}let c=o.join(t,e);n==r.EFileType.File?l.LTUtils.CopyFile(s,c):l.LTUtils.CopyDir(s,c),console.log("拷贝",s,"完成")}}_CopyFGUI(e){let t=l.LTUtils.GetDirName(e),i=o.join(e,"others/publish/templates/_project/fgui/"+t+"/"),s=o.join(e,"./../../fgui/"+t+"/");for(let e of n.default.needCopyFGUI){let t=o.join(s,e),n=l.LTUtils.IsFileOrDir(t);if(n==r.EFileType.NotExist){console.log(t,"不存在");continue}let c=o.join(i,e);n==r.EFileType.File?l.LTUtils.CopyFile(t,c):l.LTUtils.CopyDir(t,c),console.log("拷贝",t,"完成")}let c=o.join(e,"others/publish/templates/_project/fgui/"+t+"/assets/Main"),a=o.join(e,"fake_res/fgui/Main");l.LTUtils.CopyDir(a,c),console.log("拷贝",a,"完成"),i=o.join(e,"others/publish/templates/_project/fgui/p_common_ui/"),s=o.join(e,"./../../fgui/p_common_ui/"),l.LTUtils.CopyDir(s,i),console.log("拷贝",s,"完成")}_CopyUnity(e){let t=l.LTUtils.GetDirName(e),i=o.join(e,"others/publish/templates/_project/unity/"),s=o.join(e,"./../../unity/"+t+"/");for(let e of n.default.needCopyUnity){let t=o.join(s,e),n=l.LTUtils.IsFileOrDir(t);if(n==r.EFileType.NotExist){console.log(t,"不存在");continue}let c=o.join(i,e);n==r.EFileType.File?l.LTUtils.CopyFile(t,c):l.LTUtils.CopyDir(t,c),console.log("拷贝",t,"完成")}}_CopyLaya(e){let t=o.join(e,"others/publish/templates/_project/laya/"),i=o.join(e,"fake_res/laya/");for(let i of n.default.needCopy){let s=o.join(e,i),n=l.LTUtils.IsFileOrDir(s);if(n==r.EFileType.NotExist){console.log(s,"不存在");continue}let c=o.join(t,i);n==r.EFileType.File?l.LTUtils.CopyFile(s,c):l.LTUtils.CopyDir(s,c),console.log("拷贝",s,"完成")}for(let s of n.default.initProject){let c=o.join(e,s);s==n.default.initProject[0]&&(c=o.join(i,s));let a=l.LTUtils.IsFileOrDir(c);if(a==r.EFileType.NotExist){console.log(c,"不存在");continue}let u=o.join(t,s);a==r.EFileType.File?l.LTUtils.CopyFile(c,u):l.LTUtils.CopyDir(c,u),console.log("拷贝",c,"完成")}}}}]);